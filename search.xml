<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2020/08/07/zhi-shi-dian-xue-xi/shu-lun/shu-lun/"/>
      <url>/2020/08/07/zhi-shi-dian-xue-xi/shu-lun/shu-lun/</url>
      
        <content type="html"><![CDATA[<h1 id="数论知识点"><a href="#数论知识点" class="headerlink" title="数论知识点"></a>数论知识点</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>记录一些用到的数论知识和相关总结</p><h2 id="gcd"><a href="#gcd" class="headerlink" title="gcd"></a>gcd</h2><p>$gcd(a,b)=gcd(a-b,b)=gcd(a\%b,b)=gcd(b,a\%b)$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!b) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b,a%b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="exgcd"><a href="#exgcd" class="headerlink" title="exgcd"></a>exgcd</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!b)</span><br><span class="line">    &#123;</span><br><span class="line">        x=<span class="number">1</span>; y=<span class="number">0</span>; <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> gcd =exgcd(b,a%b,y,x);</span><br><span class="line">    y-=(a/b)*x;</span><br><span class="line">    <span class="keyword">return</span> gcd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">ksm</span><span class="params">(ll x,ll k,ll p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k&amp;<span class="number">1</span>) res=res*x%p; x=x*x%p; k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BSGS"><a href="#BSGS" class="headerlink" title="BSGS"></a>BSGS</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bsgs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m=<span class="built_in">sqrt</span>(p)+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> s=y;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        M[s]=i; <span class="comment">// 为了求得最小值，这里能更新则更新</span></span><br><span class="line">        mul(s,x,p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> xm=ksm(x,m,p); s=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        s=<span class="number">1l</span>l*s*xm%p;  <span class="comment">// 注意1ll</span></span><br><span class="line">        <span class="keyword">if</span> (M.count(s))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> (i*m-M[s]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="广义二项式定理"><a href="#广义二项式定理" class="headerlink" title="广义二项式定理"></a>广义二项式定理</h2><script type="math/tex; mode=display">G^{n}(x)=\sum_{i=0}^\infty C_{n+k-1}^k x^k</script><h2 id="积性函数"><a href="#积性函数" class="headerlink" title="积性函数"></a>积性函数</h2><ul><li>普通积性函数，对于两个互质的数$n,m,$有$f(n<em>m)=f(n)</em>f(m)$</li><li>完全积性函数，任意两个数$n,m,$有$f(n<em>m)=f(n)</em>f(m)$</li></ul><h2 id="狄利克雷卷积"><a href="#狄利克雷卷积" class="headerlink" title="狄利克雷卷积"></a>狄利克雷卷积</h2><ul><li>$(f<em>g)(x)=\sum_{d|x}f(d)</em>g(x/d)$</li><li>满足交换律和结合律</li><li>两个积性函数的狄利克雷卷积还是积性函数</li></ul><h2 id="欧拉函数"><a href="#欧拉函数" class="headerlink" title="欧拉函数"></a>欧拉函数</h2><h2 id="莫比乌斯函数"><a href="#莫比乌斯函数" class="headerlink" title="莫比乌斯函数"></a>莫比乌斯函数</h2><h3 id="变换"><a href="#变换" class="headerlink" title="变换"></a>变换</h3><ul><li>对于一个函数和1做狄利克雷卷积</li><li>$g=f*1; g(x)=\sum_{d|x}f(d)$</li></ul><h3 id="反演"><a href="#反演" class="headerlink" title="反演"></a>反演</h3><ul><li>$f(x)=g(x)-\sum_{d|x,x\not=d}f(d)$</li><li>利用容斥$f=g<em>\mu$ 也就是$f(x)=\sum_{d|x}g(d)</em>\mu(x/d)$</li><li></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>一起学习呀</title>
      <link href="/2020/08/07/du-cu-xue-xi-ji-hua/du-cu-xue-xi-ji-lu/"/>
      <url>/2020/08/07/du-cu-xue-xi-ji-hua/du-cu-xue-xi-ji-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="一个月的学习计划"><a href="#一个月的学习计划" class="headerlink" title="一个月的学习计划"></a>一个月的学习计划</h1><p>这是一个月的学习计划，会从以下几个方面记录和督促你学习</p><ul><li>每周完成情况</li><li>每周建议</li><li>题解</li><li>知识点的解释</li></ul><h2 id="第一周"><a href="#第一周" class="headerlink" title="第一周"></a>第一周</h2><h3 id="完成情况"><a href="#完成情况" class="headerlink" title="完成情况"></a>完成情况</h3><ul><li>进度：9/10</li></ul><h3 id="每周建议"><a href="#每周建议" class="headerlink" title="每周建议"></a>每周建议</h3><h4 id="关于编译器版本和语言"><a href="#关于编译器版本和语言" class="headerlink" title="关于编译器版本和语言"></a>关于编译器版本和语言</h4><ul><li><p>c/c++都有不同的历史标准，高标准兼容低标准</p></li><li><p>c++兼容c语言语法</p></li><li><p>不同的评测平台支持的标准不同</p></li><li><p>建议平常可以使用C++，常见框架如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    万能头文件，基本包含了C++的头文件</span></span><br><span class="line"><span class="comment">    值得注意的是老版本的poj不支持这个头文件，会编译错误</span></span><br><span class="line"><span class="comment">    但是其他oj基本都支持，平常可以使用这个</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    如果是POJ，你把这个替换成以下这些即可，涵盖了几乎常用的所有头文件</span></span><br><span class="line"><span class="comment">#include&lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include&lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include&lt;string&gt;</span></span><br><span class="line"><span class="comment">#include&lt;vector&gt;</span></span><br><span class="line"><span class="comment">#include&lt;stack&gt;</span></span><br><span class="line"><span class="comment">#include&lt;bitset&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cstdlib&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cmath&gt;</span></span><br><span class="line"><span class="comment">#include&lt;set&gt;</span></span><br><span class="line"><span class="comment">#include&lt;list&gt;</span></span><br><span class="line"><span class="comment">#include&lt;deque&gt;</span></span><br><span class="line"><span class="comment">#include&lt;map&gt;</span></span><br><span class="line"><span class="comment">#include&lt;queue&gt;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    声明一个命名空间，可以当作模板，每次打上即可</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    其余的语法就和c语言一样即可，对于写题目而言，了解这些就可以了</span></span><br><span class="line"><span class="comment">    使用C++的好处就是，有些系统函数使用起来非常方便，后面你会了解到</span></span><br><span class="line"><span class="comment">    还有STL，你后面也会了解到</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><ul><li>字符串的输入是%s，不需要&amp;</li><li>代码调试步骤<ul><li>阅读代码<ul><li>有无下标错误</li><li>有无变量名错误</li><li>有无初始值错误</li></ul></li><li>输出中间变量检查，看代码运行和自己人脑运行是否一致</li><li>如果上述皆无问题，说明代码运行正常，若仍有问题思考是否是方法错误</li></ul></li><li>常见超时原因<ul><li>出现了死循环，可以输出循环中变量看看</li><li>输入忘记输入&amp;符号，例如scanf(“%d”,x); 这样代码运行会出错</li><li>for（int i=20; i&gt;=0; i++) 这个例子也是非常常见的，把—，写成++导致死循环  </li><li>存在输入到文件底的时候要加!=EOF</li></ul></li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><ul><li>题目比较简单，无题解</li></ul><h3 id="知识点的解释"><a href="#知识点的解释" class="headerlink" title="知识点的解释"></a>知识点的解释</h3><ul><li>题目不涉及相关知识点</li></ul><h2 id="第二周"><a href="#第二周" class="headerlink" title="第二周"></a>第二周</h2><ul><li>作业：<a href="https://172.16.72.183/contest/view.action?cid=619#overview">2020年《ACM程序设计》作业1 - 暴力、递归</a></li><li>知识点：暴力+递归</li><li>参考资料：<ul><li>视频资料<ul><li><a href="https://www.bilibili.com/video/BV1LE411H7dM?p=18">https://www.bilibili.com/video/BV1LE411H7dM?p=18</a></li><li><a href="https://www.bilibili.com/video/BV1LE411H7dM?p=19">https://www.bilibili.com/video/BV1LE411H7dM?p=19</a></li></ul></li><li>文字资料<ul><li>算法竞赛入门4.3节</li><li>大话数据结构4.8节（真实页数：128页）</li></ul></li></ul></li></ul><h3 id="完成情况-1"><a href="#完成情况-1" class="headerlink" title="完成情况"></a>完成情况</h3><h3 id="每周建议-1"><a href="#每周建议-1" class="headerlink" title="每周建议"></a>每周建议</h3><h3 id="题解-1"><a href="#题解-1" class="headerlink" title="题解"></a>题解</h3><h3 id="知识点的解释-1"><a href="#知识点的解释-1" class="headerlink" title="知识点的解释"></a>知识点的解释</h3>]]></content>
      
      
      <categories>
          
          <category> 学习记录 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo实操记录</title>
      <link href="/2020/08/07/hexo-bo-ke-xiang-guan/hexo-bo-ke-shi-ji-cao-zuo-ji-lu/"/>
      <url>/2020/08/07/hexo-bo-ke-xiang-guan/hexo-bo-ke-shi-ji-cao-zuo-ji-lu/</url>
      
        <content type="html"><![CDATA[<h2 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h2><ul><li>问题：使用typora编辑时候使用代码高亮标注c++，使得页面&lt;号被错误识别<ul><li>解决：使用c，注意是小写c</li></ul></li></ul><h2 id="上传文章"><a href="#上传文章" class="headerlink" title="上传文章"></a>上传文章</h2><ul><li><p>问题：不能使用 ” “ 作为markdown文件的文件名，Front-matter也不支持</p><ul><li>解决：不使用</li></ul></li><li><p>问题：存在hexo渲染不能生成index.html文件</p><ul><li>解决：多传了几次似乎就解决了</li></ul></li><li><p>问题：$ /c/Users/14816/AppData/Roaming/npm/hexo: line 12: node: command not found</p><ul><li>因为是我在装其他软件时导致系统路径发生变化</li><li>解决：添加路径<ul><li>C:\Users\zhong\AppData\Roaming\npm</li><li>D:\software\NODEJS</li><li>C:\Users\zhong\AppData\Roaming\npm\node_modules\hexo\bin</li></ul></li></ul></li></ul><h2 id="文章界面"><a href="#文章界面" class="headerlink" title="文章界面"></a>文章界面</h2><ul><li><p>问题：存在文章链接部分过长，超出范围</p><ul><li><p>解决方案：我们可以用 <a href="https://github.com/viko16/hexo-permalink-pinyin">hexo-permalink-pinyin</a> Hexo 插件使在生成文章时生成中文拼音的永久链接。</p><p>安装命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-permalink-pinyin --save</span><br></pre></td></tr></table></figure><p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink_pinyin:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">separator:</span> <span class="string">&#x27;-&#x27;</span> <span class="comment"># default: &#x27;-&#x27;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><h3 id="一键部署脚本"><a href="#一键部署脚本" class="headerlink" title="一键部署脚本"></a>一键部署脚本</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">@echo</span> <span class="string">off</span></span><br><span class="line"><span class="attr">E:</span></span><br><span class="line"><span class="string">cd</span> <span class="string">E:blog</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">clean&amp;&amp;hexo</span> <span class="string">g&amp;&amp;hexo</span> <span class="string">d</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h3><ul><li>参见大佬：<a href="https://cloud.tencent.com/developer/article/1577027">https://cloud.tencent.com/developer/article/1577027</a></li></ul><h3 id="部署到服务器"><a href="#部署到服务器" class="headerlink" title="部署到服务器"></a>部署到服务器</h3><ul><li><p>首先你得设置SSH密钥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的邮箱地址&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>入后一直回车，然后在<code>C:/Users/[username]</code>目录下找到名为<code>.ssh</code>的文件夹， 文件夹内会有两个文件，一个<code>id_rsa.pub</code>一个<code>id_rsa</code>，用文本编辑器打开<code>id_rsa.pub</code></p></li><li><p>将其复制到阿里云的服务器的密钥管理中，重启阿里云</p></li><li><p>测试连接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T root@你的IP地址</span><br></pre></td></tr></table></figure></li><li><p>其余操作参见博客</p><ul><li><a href="https://yq.aliyun.com/articles/640997?spm=a2c4e.11155472.0.0.30aa2da5Pg73VS">https://yq.aliyun.com/articles/640997?spm=a2c4e.11155472.0.0.30aa2da5Pg73VS</a></li></ul></li></ul><h3 id="配置域名"><a href="#配置域名" class="headerlink" title="配置域名"></a>配置域名</h3><ul><li>首先通过阿里云控制台申请二级域名</li><li>然后利用小皮面板部署网页</li><li>参考<a href="https://blog.csdn.net/weixin_45682081/article/details/105992591">https://blog.csdn.net/weixin_45682081/article/details/105992591</a></li></ul><h2 id="公式"><a href="#公式" class="headerlink" title="公式"></a>公式</h2><ul><li><p>问题：出现公式部分显示的情况</p><ul><li><p><a href="https://www.cnblogs.com/Ai-heng/p/7282110.html">https://www.cnblogs.com/Ai-heng/p/7282110.html</a></p></li><li><p>因为hexo自带渲染冲突</p></li><li><pre><code>npm uninstall hexo-renderer-marked --savenpm install hexo-renderer-kramed --save</code></pre></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2020牛客暑期多校训练营（第七场）</title>
      <link href="/2020/08/07/acm-7-8-yue-xun-lian/2020-niu-ke-duo-xiao/niu-ke-di-qi-chang-ti-jie/"/>
      <url>/2020/08/07/acm-7-8-yue-xun-lian/2020-niu-ke-duo-xiao/niu-ke-di-qi-chang-ti-jie/</url>
      
        <content type="html"><![CDATA[<h2 id="A题"><a href="#A题" class="headerlink" title="A题"></a>A题</h2><h3 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h3><script type="math/tex; mode=display">\sum_{i=1}^{n-1} \sum_{j=i+1}^{n}d(i,j)^2=\sum_{i=1}^{n-1} \sum_{j=i+1}^{n}(x_{i}-x_{j})^{2}+(y_{i}-y_{j})^2=\sum_{i=1}^{n} \sum_{j=1}^{n}(x_{i}^2+y_{j}^2)-(x_{i}*x_{j}+y_{i}*y_{j})=n*\sum_{i=1}^{n}(x_{i}^{2}+y_{i}^{2})-(\sum_{i=1}^{n}x_{i})^{2}-(\sum_{i=1}^{n}y_{i})^{2}</script><p>然后DP即可</p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MP make_pair</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">pair</span>&lt;<span class="keyword">int</span> ,<span class="built_in">pair</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt;&gt; ve;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">9</span>][<span class="number">610</span>][<span class="number">610</span>],ans[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">-33</span>; i&lt;=<span class="number">33</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">-33</span>; j&lt;=<span class="number">33</span>; j++)</span><br><span class="line">            ve.pb(MP(i*i+j*j,MP(i,j)));</span><br><span class="line">    sort(ve.begin(), ve.end());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">300</span>][<span class="number">300</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> s=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> r=<span class="number">1</span>;r&lt;=<span class="number">30</span>;++r)&#123;</span><br><span class="line">        <span class="keyword">while</span>(ve[s].fi&lt;=r*r)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">8</span>;++i)</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">300</span>-r*i;j&lt;=<span class="number">300</span>+r*i;++j)</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">300</span>-r*i;k&lt;=<span class="number">300</span>+r*i;++k)</span><br><span class="line">                        dp[i][j][k]=max(dp[i][j][k],dp[i<span class="number">-1</span>][j-ve[s].se.fi][k-ve[s].se.se]+ve[s].fi);</span><br><span class="line">            s++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> n=<span class="number">1</span>;n&lt;=<span class="number">8</span>;++n)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> h=<span class="number">0</span>;h&lt;<span class="number">2</span>*<span class="number">300</span>;++h)</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> l=<span class="number">0</span>;l&lt;<span class="number">2</span>*<span class="number">300</span>;++l)</span><br><span class="line">                    <span class="keyword">if</span>(dp[n][h][l]&gt;<span class="number">0</span>)</span><br><span class="line">                        ans[n][r]=max(ans[n][r],n*dp[n][h][l]-((h<span class="number">-300</span>)*(h<span class="number">-300</span>)+(l<span class="number">-300</span>)*(l<span class="number">-300</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    prepare();</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n,r;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;r;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans[n][r]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="I题"><a href="#I题" class="headerlink" title="I题"></a>I题</h2><h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><ul><li>prufer序列</li><li>组合数</li></ul><blockquote><p>prufer序列的性质：</p><ul><li>序列与无根树一一对应</li><li>度数为x的节点会在序列中出现x-1次</li><li>一个n个节点的完全图的生成树的个数为$n^{n-2}$</li></ul><p>更多性质参考：<a href="https://www.cnblogs.com/chenxiaoran666/p/prufer.html">https://www.cnblogs.com/chenxiaoran666/p/prufer.html</a></p></blockquote><h3 id="具体推导"><a href="#具体推导" class="headerlink" title="具体推导"></a>具体推导</h3><ul><li><p>$dp[i]$ 代表森林中有$i$个节点的方案数</p></li><li><p>$f[i]$代表有$i$个节点的无根树的度数平方和</p></li><li><p>$ans[i]$代表有$i$个节点的无根树森林的度数平方和</p></li><li><script type="math/tex; mode=display">dp[i]=\sum_{j=1}^{i}dp[i-j]*j^{j-2}*C_{i-1}^{j-1}</script></li><li><script type="math/tex; mode=display">f[i]=i*\sum_{j=1}^{i-1}j^{2}*C_{i-2}^{j-1}*(i-1)^{i-2-(j-1)}</script></li><li><script type="math/tex; mode=display">ans[i]=\sum_{j=1}^{i}(ans[i-j]*j^{j-2}+f[j]*dp[i-j])*C_{i-1}^{j-1}</script></li></ul><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="comment">#define ll long long</span></span><br><span class="line"><span class="comment">#define N 5000</span></span><br><span class="line">using namespace std;</span><br><span class="line">int mod;</span><br><span class="line">long long ans[N+5],f[N+5],dp[N+5],c[N+5][N+5],vis[N+5][N+5];</span><br><span class="line">ll ksm(ll x,ll k,ll p)</span><br><span class="line">&#123;</span><br><span class="line">    //cout&lt;&lt;<span class="string">&quot;       &quot;</span>&lt;&lt;x&lt;&lt; <span class="string">&quot; &quot;</span>&lt;&lt;k&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;vis[x][k]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">if</span> (k&lt;=0) <span class="built_in">return</span> 1;</span><br><span class="line">    <span class="keyword">if</span> (vis[x][k]) <span class="built_in">return</span> vis[x][k];</span><br><span class="line"></span><br><span class="line">    ll res=1;</span><br><span class="line">    //cout&lt;&lt;<span class="string">&quot;                   &quot;</span>&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    int tmpx=x,tmpk=k;</span><br><span class="line">    <span class="keyword">while</span> (k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k&amp;1) res=res*x%p; x=x*x%p; k&gt;&gt;=1;</span><br><span class="line">       // cout&lt;&lt;<span class="string">&quot; AAA &quot;</span>&lt;&lt;k&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vis[tmpx][tmpk]=res;</span><br><span class="line">    //cout&lt;&lt;<span class="string">&quot;                  &quot;</span>&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    int T;</span><br><span class="line">    cin&gt;&gt;T&gt;&gt;mod;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (int i=0; i&lt;=N; i++)</span><br><span class="line">        c[i][0]=c[i][i]=1;</span><br><span class="line">    <span class="keyword">for</span> (int i=2; i&lt;=N; i++)</span><br><span class="line">        <span class="keyword">for</span> (int j=1; j&lt;i; j++)</span><br><span class="line">            c[i][j]=(c[i-1][j]+c[i-1][j-1])%mod;</span><br><span class="line">   // cout&lt;&lt;<span class="string">&quot;A&quot;</span>&lt;&lt;endl;</span><br><span class="line">    dp[0]=1;</span><br><span class="line">    <span class="keyword">for</span> (int i=1; i&lt;=N; i++)</span><br><span class="line">        <span class="keyword">for</span> (int j=1; j&lt;=i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            //cout&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;j&lt;&lt;endl;</span><br><span class="line">            dp[i]=(dp[i]+dp[i-j]*ksm(j,j-2,mod)%mod*c[i-1][j-1]%mod)%mod;</span><br><span class="line">        &#125;</span><br><span class="line">   // cout&lt;&lt;<span class="string">&quot;B&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span> (int i=1; i&lt;=N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (int j=1; j&lt;=i-1; j++)</span><br><span class="line">            f[i]=(f[i]+j*j%mod*c[i-2][j-1]%mod*ksm(i-1,i-j-1,mod)%mod)%mod;</span><br><span class="line">        f[i]=f[i]*i%mod;</span><br><span class="line">    &#125;</span><br><span class="line">   // cout&lt;&lt;<span class="string">&quot;C&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span> (int i=1; i&lt;=N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (int j=1; j&lt;=i; j++)</span><br><span class="line">            ans[i]=(ans[i]+(ans[i-j]*ksm(j,j-2,mod)%mod+f[j]*dp[i-j]%mod)%mod*c[i-1][j-1]%mod)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    //cout&lt;&lt;<span class="string">&quot;D&quot;</span>&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>  (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        int n;</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans[n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="J题"><a href="#J题" class="headerlink" title="J题"></a>J题</h2><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><p>英语阅读题，理解题目意思后模拟即可</p><h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">300</span>][<span class="number">30</span>],b[<span class="number">300</span>][<span class="number">30</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">30</span>][<span class="number">30</span>],cnt[<span class="number">30</span>][<span class="number">30</span>][<span class="number">30</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">char</span> x,<span class="keyword">char</span> l,<span class="keyword">char</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l&lt;=x &amp;&amp; x&lt;=r) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">char</span> x,<span class="keyword">char</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x-y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s = %s&quot;</span>,a[i]+<span class="number">1</span>,b[i]+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//cout&lt;&lt;a[i]+1&lt;&lt;&quot; &quot;&lt;&lt;b[i]+1&lt;&lt;endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cirtime=n;</span><br><span class="line">    <span class="keyword">while</span> (cirtime--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> lena=<span class="built_in">strlen</span>(a[i]+<span class="number">1</span>),lenb=<span class="built_in">strlen</span>(b[i]+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> A,B,f;</span><br><span class="line">            <span class="keyword">if</span> (lena==lenb  &amp;&amp; lena==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (check(b[i][<span class="number">1</span>],<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;z&#x27;</span>)) <span class="comment">// A=x</span></span><br><span class="line">                &#123;</span><br><span class="line">                    A=get(a[i][<span class="number">1</span>],<span class="string">&#x27;A&#x27;</span>); B=get(b[i][<span class="number">1</span>],<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">                    ans[A][B]=<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="comment">// A=B</span></span><br><span class="line">                &#123;</span><br><span class="line">                    A=get(a[i][<span class="number">1</span>],<span class="string">&#x27;A&#x27;</span>); B=get(b[i][<span class="number">1</span>],<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">26</span>; j++)</span><br><span class="line">                        &#123;</span><br><span class="line">                            ans[A][j]|=ans[B][j];</span><br><span class="line">                           <span class="comment">// cout&lt;&lt;&quot; &quot;&lt;&lt;A&lt;&lt;&quot; &quot;&lt;&lt;B&lt;&lt;&quot; &quot;&lt;&lt;j&lt;&lt;&quot; &quot;&lt;&lt;&#x27;o&#x27;-&#x27;a&#x27;&lt;&lt;&quot; &quot;&lt;&lt;ans[A][j]&lt;&lt;endl;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (lena==<span class="number">3</span>) <span class="comment">// A.f=B</span></span><br><span class="line">            &#123;</span><br><span class="line">                A=get(a[i][<span class="number">1</span>],<span class="string">&#x27;A&#x27;</span>); B=get(b[i][<span class="number">1</span>],<span class="string">&#x27;A&#x27;</span>); f=get(a[i][<span class="number">3</span>],<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">26</span>; j++)</span><br><span class="line">                    <span class="keyword">if</span> (ans[A][j])</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;<span class="number">26</span>; k++)</span><br><span class="line">                            cnt[j][f][k]|=ans[B][k];</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (lenb==<span class="number">3</span>) <span class="comment">// A=B.f</span></span><br><span class="line">            &#123;</span><br><span class="line">                 A=get(a[i][<span class="number">1</span>],<span class="string">&#x27;A&#x27;</span>); B=get(b[i][<span class="number">1</span>],<span class="string">&#x27;A&#x27;</span>); f=get(b[i][<span class="number">3</span>],<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">                 <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">26</span>; j++)</span><br><span class="line">                    <span class="keyword">if</span> (ans[B][j])</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;<span class="number">26</span>; k++)</span><br><span class="line">                            ans[A][k]|=cnt[j][f][k];</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot; &quot;&lt;&lt;cnt[&#x27;o&#x27;-&#x27;a&#x27;][&#x27;f&#x27;-&#x27;a&#x27;][&#x27;o&#x27;-&#x27;a&#x27;]&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c: &quot;</span>,i+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">26</span>; j++) <span class="keyword">if</span> (ans[i][j]) <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,j+<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 2020牛客多校 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 套题题解 </tag>
            
            <tag> prufer定理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020 Multi-University Training Contest 6</title>
      <link href="/2020/08/07/acm-7-8-yue-xun-lian/2020-hang-dian-duo-xiao/2020-multi-university-training-contest-6/"/>
      <url>/2020/08/07/acm-7-8-yue-xun-lian/2020-hang-dian-duo-xiao/2020-multi-university-training-contest-6/</url>
      
        <content type="html"><![CDATA[<h2 id="1006"><a href="#1006" class="headerlink" title="1006"></a>1006</h2><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>给你一个点数为$n$,边数为$m$的无向联通图，其中第$i$条边的权值为$2^{i}$,每个点有个点权为$0$或者$1$,求所有$01$点对的最短路径和</p><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><p>考虑$2^{i}=2^{i-1}+2^{i-2}+……+2^{0}$ 那么意味着如果前面的边已经使得两点联通，再添加一条边这条边的边权不可能去更新最短路径</p><p>于是考虑先并查集建立出一颗最短路径树，之后在书上树形DP记录答案即可</p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,sum0,sum1,ans;</span><br><span class="line"><span class="keyword">int</span> fa[N],a[N],sum[N][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> tot,pre[N*<span class="number">2</span>],now[N],v[N*<span class="number">2</span>],val[N*<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ins</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ++tot; pre[tot]=now[x]; now[x]=tot; v[tot]=y; val[tot]=w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fd</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x==fa[x]) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> fa[x]=fd(fa[x]);</span><br><span class="line">    <span class="keyword">return</span> fa[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> father)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[x][a[x]]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> p=now[x]; p; p=pre[p])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> son=v[p];</span><br><span class="line">        <span class="keyword">if</span> (son==father) <span class="keyword">continue</span>;</span><br><span class="line">        dfs(son,x);</span><br><span class="line">        sum[x][<span class="number">0</span>]+=sum[son][<span class="number">0</span>];</span><br><span class="line">        sum[x][<span class="number">1</span>]+=sum[son][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        ans=(ans+<span class="number">1l</span>l*(sum0-sum[son][<span class="number">0</span>])*sum[son][<span class="number">1</span>]%mod*val[p]%mod)%mod;</span><br><span class="line">        ans=(ans+<span class="number">1l</span>l*(sum1-sum[son][<span class="number">1</span>])*sum[son][<span class="number">0</span>]%mod*val[p]%mod)%mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            fa[i]=i; now[i]=<span class="number">0</span>; sum[i][<span class="number">0</span>]=sum[i][<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tot=<span class="number">0</span>; sum0=sum1=<span class="number">0</span>; ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">            <span class="keyword">if</span> (a[i]==<span class="number">0</span>) sum0++;</span><br><span class="line">            <span class="keyword">else</span> sum1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> val=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            val=<span class="number">1l</span>l*val*<span class="number">2</span>%mod;</span><br><span class="line">            <span class="keyword">int</span> x,y,fx,fy;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">            fx=fd(x); fy=fd(y);</span><br><span class="line">            <span class="keyword">if</span> (fx==fy) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                fa[fx]=fy;</span><br><span class="line">                ins(x,y,val);</span><br><span class="line">                ins(y,x,val);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(<span class="number">1</span>,<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1010"><a href="#1010" class="headerlink" title="1010"></a>1010</h2><h3 id="题意-1"><a href="#题意-1" class="headerlink" title="题意"></a>题意</h3><p>给你一个有边权无向图，其中一个生成树的权值为所有边权的与操作，求期望的生成树权值是多少</p><h3 id="题解-1"><a href="#题解-1" class="headerlink" title="题解"></a>题解</h3><ul><li>生成树计数，通过<strong>Matrix-Tree 定理</strong>可以知道生成树的个数</li><li>可以参考<a href="https://blog.csdn.net/u011815404/article/details/99679527">https://blog.csdn.net/u011815404/article/details/99679527</a></li><li>因为我们是要求与操作的边权和，于是我们可以按位操作，根据每一位做一次生成树计数</li></ul><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 105</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOD 998244353</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">LL K[N][N],ans[N];</span><br><span class="line"><span class="keyword">int</span> bin[<span class="number">40</span>],A[N][N][N];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="function">LL <span class="title">gauss</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;<span class="comment">//求矩阵K的n-1阶顺序主子式</span></span><br><span class="line">    LL res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-1</span>;i++)&#123;<span class="comment">//枚举主对角线上第i个元素</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=n<span class="number">-1</span>;j++)&#123;<span class="comment">//枚举剩下的行</span></span><br><span class="line">            <span class="keyword">while</span>(K[j][i])&#123;<span class="comment">//辗转相除</span></span><br><span class="line">                <span class="keyword">int</span> t=K[i][i]/K[j][i];</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=i;k&lt;=n<span class="number">-1</span>;k++)<span class="comment">//转为倒三角</span></span><br><span class="line">                    K[i][k]=(K[i][k]-t*K[j][k]+MOD)%MOD;</span><br><span class="line">                swap(K[i],K[j]);<span class="comment">//交换i、j两行</span></span><br><span class="line">                res=-res;<span class="comment">//取负</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res=(res*K[i][i])%MOD;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (res+MOD)%MOD;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">ksm</span><span class="params">(ll x,ll k,ll p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k&amp;<span class="number">1</span>) res=res*x%p; x=x*x%p; k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    bin[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">30</span>; i++) bin[i]=bin[i<span class="number">-1</span>]*<span class="number">2</span>;</span><br><span class="line">   <span class="comment">// cout&lt;&lt;bin[30]&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=<span class="number">30</span>; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; j++)</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;=n; k++)  A[i][j][k]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> x,y,val;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;x,&amp;y,&amp;val);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=<span class="number">29</span>; j++) <span class="keyword">if</span> ((val&amp;bin[j])==bin[j])</span><br><span class="line">            &#123;</span><br><span class="line">                A[j][x][x]++;</span><br><span class="line">                A[j][y][y]++;</span><br><span class="line">                A[j][x][y]--;</span><br><span class="line">                A[j][y][x]--;</span><br><span class="line">            &#125;</span><br><span class="line">            A[<span class="number">30</span>][x][x]++;</span><br><span class="line">            A[<span class="number">30</span>][y][y]++;</span><br><span class="line">            A[<span class="number">30</span>][x][y]--;</span><br><span class="line">            A[<span class="number">30</span>][y][x]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=<span class="number">30</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; j++)</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;=n; k++) K[j][k]=A[i][j][k];</span><br><span class="line">            ans[i]=gauss(n);c</span><br><span class="line">            <span class="comment">//cout&lt;&lt;&quot;            &quot;&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;ans[i]&lt;&lt;endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        ll res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=<span class="number">29</span>; i++)</span><br><span class="line">            res=(res+<span class="number">1l</span>l*bin[i]*ans[i]%MOD)%MOD;</span><br><span class="line">        res=res*ksm(ans[<span class="number">30</span>],MOD<span class="number">-2</span>,MOD)%MOD;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 2020牛客多校 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 套题题解 </tag>
            
            <tag> 并查集 </tag>
            
            <tag> 生成树计数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round#638(Div. 2)</title>
      <link href="/2020/08/07/acm-5-yue-xun-lian/codeforces-round-638-div.2/"/>
      <url>/2020/08/07/acm-5-yue-xun-lian/codeforces-round-638-div.2/</url>
      
        <content type="html"><![CDATA[<h2 id="比赛情况"><a href="#比赛情况" class="headerlink" title="比赛情况"></a>比赛情况</h2><h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><p>有一个很好的特性就是:</p><script type="math/tex; mode=display">2^n=2^{n-1}+2^{n-2}+...+2^{0}+2^{0}</script><p>于是我们给一组分配一个最大的+几个最小的即可</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        ll a=<span class="number">0</span>,b=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> k=n/<span class="number">2</span>;</span><br><span class="line"> </span><br><span class="line">        ll sum=<span class="number">0</span>,tmp=<span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum+=<span class="number">1l</span>l&lt;&lt;i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;k; i++)</span><br><span class="line">            tmp+=<span class="number">1l</span>l&lt;&lt;i;</span><br><span class="line">        tmp+=<span class="number">1l</span>l&lt;&lt;n;</span><br><span class="line">        sum=sum-tmp;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">abs</span>(tmp-sum)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><p>因为不限制长度，于是我们统计一下出现过的数字，然后重复长度n次输出即可</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="keyword">int</span> a[N],ans[N*<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> vis[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tot=<span class="number">0</span>,las;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">            <span class="keyword">if</span> (!vis[a[i]])</span><br><span class="line">            &#123;</span><br><span class="line">                tot++;</span><br><span class="line">                ans[++cnt]=a[i]; las=a[i];</span><br><span class="line">            &#125;</span><br><span class="line">            vis[a[i]]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tot&gt;k)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=cnt+<span class="number">1</span>; i&lt;=k; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[++cnt]=las;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;n*k&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=k; j++)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,ans[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><p>这道题目我觉得出的很好，很容易发现没有显然的贪心策略。</p><p>所以我刚开始的时候想的是F(i,j,k)代表前i个剩下j个red和k个blue没匹配，然后发现时间复杂度是n^4</p><p>于是我们考虑一下优化，我们想想red和blue的关系</p><p>我们会发现：</p><ul><li>假设我们知道有x个red没有在任何一种篮子里面，我们也就可以推出有多少blue没在任何一种篮子里面，即有（sumred-x+sumblue）%k个blue没在任何一种篮子里面。于是我们用一个二维的即可</li><li>假设我们知道有x个red是杂匹配的，我们也可以推出有多少个blue也是杂匹配的，于是也可以将三维优化为二维的</li></ul><p>方法一：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 505</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="keyword">int</span> a[N],b[N];</span><br><span class="line"><span class="keyword">bool</span> dp[N][N];<span class="comment">// 剩下红色浆果的数量</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> suma,sumb;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a[i],&amp;b[i]),suma+=a[i],sumb+=b[i];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;k; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[i<span class="number">-1</span>][j]==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            dp[i][(j+a[i]%k)%k]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">0</span>; l&lt;=min(k<span class="number">-1</span>,a[i]); l++)</span><br><span class="line">            <span class="keyword">if</span> (((a[i]-l)%k+b[i])&gt;=k)</span><br><span class="line">                dp[i][(l+j)%k]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;k; i++)</span><br><span class="line">        <span class="keyword">if</span> (dp[n][i]) ans=max(ans,(suma+sumb-i)/k);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方法二：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 505</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="keyword">int</span> a[N],b[N];</span><br><span class="line"><span class="keyword">bool</span> dp[N][N];<span class="comment">// 前i个里面有j个红果子是异构篮子里面的</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> suma,sumb;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a[i],&amp;b[i]),suma+=a[i],sumb+=b[i];</span><br><span class="line">        <span class="comment">//if (n==125 &amp;&amp; i&gt;=73) cout&lt;&lt;a[i]&lt;&lt;&quot; &quot;&lt;&lt;b[i]&lt;&lt;endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;k; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[i<span class="number">-1</span>][j]==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            dp[i][j]=<span class="number">1</span>;</span><br><span class="line">            <span class="comment">// (0&lt;=x&lt;=a[i]   0&lt;=k-x&lt;=b[i]  == k&gt;=x&gt;=k-b[i])</span></span><br><span class="line">            <span class="comment">// (</span></span><br><span class="line">          <span class="comment">//  cout&lt;&lt;&quot; &quot;&lt;&lt;max((k-b[i])%k,0)&lt;&lt;&quot; &quot;&lt;&lt;min(a[i],k)&lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x=max(k-b[i],<span class="number">0</span>); x&lt;=min(a[i],k); x++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//cout&lt;&lt;&quot; &quot;&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">                dp[i][(j+x)%k]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;k; i++)</span><br><span class="line">    <span class="keyword">if</span> (dp[n][i])</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="comment">// cout&lt;&lt;&quot;          &quot;&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">        ans=max(ans,min(i,<span class="number">1</span>)+(suma-i)/k+(sumb-(k-i)%k)/k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 2020.5 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 比赛记录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020湖南多校线上第三场 CERC2014</title>
      <link href="/2020/08/07/acm-5-yue-xun-lian/cerc14/"/>
      <url>/2020/08/07/acm-5-yue-xun-lian/cerc14/</url>
      
        <content type="html"><![CDATA[<h2 id="比赛情况"><a href="#比赛情况" class="headerlink" title="比赛情况"></a>比赛情况</h2><p>比赛平台：codeforces</p><p>Rank：57</p><p>现场AC：5</p><p>补题：2    </p><h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><p>队友AC</p><h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><p>队友AC</p><h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><p>待补题</p><h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><p>DP</p><p>f[i] [j] [k]代表前i个状态为j,k的方案数</p><p>j=1 代表s[1]=s[2]  j=0 代表 s[1]&lt;s[2]</p><p>k=1代表s[2]=s[3] k=0 代表 s[2]&lt;s[3]</p><p>起初我在统计转移方法的时候是利用if判断，后面想到可以刚开始枚举所有情况预处理一下</p><p>具体转移方程见代码</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 1000005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mod 1000000009</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">4</span>][N];</span><br><span class="line"><span class="keyword">int</span> n[<span class="number">5</span>],mn,mn12,mn23;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span>  f[N][<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span>  g[<span class="number">10</span>][<span class="number">30</span>][<span class="number">30</span>][<span class="number">30</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s[<span class="number">1</span>]+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s[<span class="number">2</span>]+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s[<span class="number">3</span>]+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    n[<span class="number">1</span>]=<span class="built_in">strlen</span>(s[<span class="number">1</span>]+<span class="number">1</span>);</span><br><span class="line">    n[<span class="number">2</span>]=<span class="built_in">strlen</span>(s[<span class="number">2</span>]+<span class="number">1</span>);</span><br><span class="line">    n[<span class="number">3</span>]=<span class="built_in">strlen</span>(s[<span class="number">3</span>]+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    n[<span class="number">0</span>]=max(n[<span class="number">1</span>],max(n[<span class="number">2</span>],n[<span class="number">3</span>]));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=n[<span class="number">0</span>]; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=<span class="number">1</span>; j++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;=<span class="number">1</span>; k++)</span><br><span class="line">            f[i][j][k]=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    f[<span class="number">0</span>][<span class="number">1</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">up</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// if (i==1 &amp;&amp; j==2 &amp;&amp; k==3) cout&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (i==j &amp;&amp; j==k &amp;&amp; i==<span class="number">0</span>) <span class="keyword">return</span> ;</span><br><span class="line">    g[x][i][j][k]++;</span><br><span class="line">   <span class="comment">// if (x== 9 &amp;&amp; j==2 &amp;&amp; k==3) cout&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;j&lt;&lt;&quot; &quot;&lt;&lt;k&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (i!=<span class="number">0</span>) g[x][<span class="number">27</span>][j][k]++;</span><br><span class="line">    <span class="keyword">if</span> (j!=<span class="number">0</span>) g[x][i][<span class="number">27</span>][k]++;</span><br><span class="line">    <span class="keyword">if</span> (k!=<span class="number">0</span>) g[x][i][j][<span class="number">27</span>]++;</span><br><span class="line">    <span class="keyword">if</span> (i!=<span class="number">0</span> &amp;&amp; j!=<span class="number">0</span>) g[x][<span class="number">27</span>][<span class="number">27</span>][k]++;</span><br><span class="line">    <span class="keyword">if</span> (i!=<span class="number">0</span> &amp;&amp; k!=<span class="number">0</span>) g[x][<span class="number">27</span>][j][<span class="number">27</span>]++;</span><br><span class="line">    <span class="keyword">if</span> (j!=<span class="number">0</span> &amp;&amp; k!=<span class="number">0</span>) g[x][i][<span class="number">27</span>][<span class="number">27</span>]++;</span><br><span class="line">    <span class="keyword">if</span> (i!=<span class="number">0</span> &amp;&amp; j!=<span class="number">0</span> &amp;&amp; k!=<span class="number">0</span>) g[x][<span class="number">27</span>][<span class="number">27</span>][<span class="number">27</span>]++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=<span class="number">26</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=<span class="number">26</span>; j++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;=<span class="number">26</span>; k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (i==j &amp;&amp; j==k)  <span class="comment">// i==j==k</span></span><br><span class="line">                &#123;</span><br><span class="line">                    up(<span class="number">1</span>,i,j,k);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i&lt;j &amp;&amp; j==k) <span class="comment">//i&lt;j==k</span></span><br><span class="line">                &#123;</span><br><span class="line">                    up(<span class="number">2</span>,i,j,k);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j==k) up(<span class="number">3</span>,i,j,k); <span class="comment">// j==k</span></span><br><span class="line">                <span class="keyword">if</span> (i==j &amp;&amp; j&lt;k) up(<span class="number">4</span>,i,j,k); <span class="comment">// i==j&lt;k</span></span><br><span class="line">                <span class="keyword">if</span> (i==j) up(<span class="number">5</span>,i,j,k); <span class="comment">// i==j</span></span><br><span class="line">                <span class="keyword">if</span> (j&lt;k) up(<span class="number">6</span>,i,j,k); <span class="comment">// j&lt;k</span></span><br><span class="line">                <span class="keyword">if</span> (i&lt;j) up(<span class="number">7</span>,i,j,k); <span class="comment">// i&lt;j</span></span><br><span class="line">                up(<span class="number">8</span>,i,j,k); <span class="comment">//</span></span><br><span class="line">                <span class="keyword">if</span> (i&lt;j &amp;&amp; j&lt;k) up(<span class="number">9</span>,i,j,k); <span class="comment">// i&lt;j&lt;k</span></span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i&gt;n[x]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (s[x][i]==<span class="string">&#x27;?&#x27;</span>) <span class="keyword">return</span> <span class="number">27</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> (s[x][i]-<span class="string">&#x27;a&#x27;</span>+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    prepare();</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n[<span class="number">0</span>]; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a,b,c;</span><br><span class="line"></span><br><span class="line">            a=get(<span class="number">1</span>,i);</span><br><span class="line">            b=get(<span class="number">2</span>,i);</span><br><span class="line">            c=get(<span class="number">3</span>,i);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            f[i][<span class="number">1</span>][<span class="number">1</span>]=f[i<span class="number">-1</span>][<span class="number">1</span>][<span class="number">1</span>]*g[<span class="number">1</span>][a][b][c]%mod; <span class="comment">// a==b==c</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">1</span>]=f[i<span class="number">-1</span>][<span class="number">1</span>][<span class="number">1</span>]*g[<span class="number">2</span>][a][b][c]%mod;</span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">1</span>]=(f[i][<span class="number">0</span>][<span class="number">1</span>]+f[i<span class="number">-1</span>][<span class="number">0</span>][<span class="number">1</span>]*g[<span class="number">3</span>][a][b][c]%mod)%mod;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            f[i][<span class="number">1</span>][<span class="number">0</span>]=f[i<span class="number">-1</span>][<span class="number">1</span>][<span class="number">1</span>]*g[<span class="number">4</span>][a][b][c]%mod; <span class="comment">// a==b</span></span><br><span class="line">            f[i][<span class="number">1</span>][<span class="number">0</span>]=(f[i][<span class="number">1</span>][<span class="number">0</span>]+f[i<span class="number">-1</span>][<span class="number">1</span>][<span class="number">0</span>]*g[<span class="number">5</span>][a][b][c]%mod)%mod;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">0</span>]=f[i<span class="number">-1</span>][<span class="number">0</span>][<span class="number">1</span>]*g[<span class="number">6</span>][a][b][c]%mod;</span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">0</span>]=(f[i][<span class="number">0</span>][<span class="number">0</span>]+f[i<span class="number">-1</span>][<span class="number">1</span>][<span class="number">0</span>]*g[<span class="number">7</span>][a][b][c]%mod)%mod;</span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">0</span>]=(f[i][<span class="number">0</span>][<span class="number">0</span>]+f[i<span class="number">-1</span>][<span class="number">0</span>][<span class="number">0</span>]*g[<span class="number">8</span>][a][b][c]%mod)%mod;</span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">0</span>]=(f[i][<span class="number">0</span>][<span class="number">0</span>]+f[i<span class="number">-1</span>][<span class="number">1</span>][<span class="number">1</span>]*g[<span class="number">9</span>][a][b][c]%mod)%mod;</span><br><span class="line"></span><br><span class="line">           <span class="comment">// cout&lt;&lt;&quot; &quot;&lt;&lt;g[9][a][b][c]&lt;&lt;&quot; &quot;&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;f[n[<span class="number">0</span>]][<span class="number">0</span>][<span class="number">0</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">?heoret?cal</span></span><br><span class="line"><span class="comment">c?mputer</span></span><br><span class="line"><span class="comment">?cience</span></span><br><span class="line"><span class="comment">jagiellonian</span></span><br><span class="line"><span class="comment">?niversity</span></span><br><span class="line"><span class="comment">kra?ow</span></span><br><span class="line"><span class="comment">?</span></span><br><span class="line"><span class="comment">b</span></span><br><span class="line"><span class="comment">c</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="G"><a href="#G" class="headerlink" title="G"></a>G</h2><h2 id="H"><a href="#H" class="headerlink" title="H"></a>H</h2><p>直接暴力出所有的情况</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">10000</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> sum,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// cout&lt;&lt;&quot; &quot;&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;y&lt;&lt;&quot; &quot;&lt;&lt;sum&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sum&gt;<span class="number">400</span>) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="comment">//if (vis[sum]) return ;</span></span><br><span class="line">    <span class="comment">//if (sum==30 ) cout&lt;&lt;&quot; &quot;&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;y&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (d&gt;<span class="number">6</span>) <span class="keyword">return</span> ;</span><br><span class="line">    vis[sum]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (a[x+<span class="number">1</span>][y]!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        dfs(x+<span class="number">1</span>,y,sum*<span class="number">10</span>+a[x+<span class="number">1</span>][y],d+<span class="number">1</span>);</span><br><span class="line">        dfs(x+<span class="number">1</span>,y,sum,d+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a[x][y+<span class="number">1</span>]!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        dfs(x,y+<span class="number">1</span>,sum*<span class="number">10</span>+a[x][y+<span class="number">1</span>],d+<span class="number">1</span>);</span><br><span class="line">        dfs(x,y+<span class="number">1</span>,sum,d+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(x,y,sum*<span class="number">10</span>+a[x][y],d+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="built_in">memset</span>(a,<span class="number">-1</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">    a[<span class="number">1</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    a[<span class="number">1</span>][<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">    a[<span class="number">1</span>][<span class="number">3</span>]=<span class="number">3</span>;</span><br><span class="line">    a[<span class="number">2</span>][<span class="number">1</span>]=<span class="number">4</span>;</span><br><span class="line">    a[<span class="number">2</span>][<span class="number">2</span>]=<span class="number">5</span>;</span><br><span class="line">    a[<span class="number">2</span>][<span class="number">3</span>]=<span class="number">6</span>;</span><br><span class="line">    a[<span class="number">3</span>][<span class="number">1</span>]=<span class="number">7</span>;</span><br><span class="line">    a[<span class="number">3</span>][<span class="number">2</span>]=<span class="number">8</span>;</span><br><span class="line">    a[<span class="number">3</span>][<span class="number">3</span>]=<span class="number">9</span>;</span><br><span class="line">    a[<span class="number">4</span>][<span class="number">2</span>]=<span class="number">0</span>;</span><br><span class="line">    dfs(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> k,x=<span class="number">-1</span>,y=<span class="number">-1</span>,ans=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=k; i&gt;=<span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (vis[i]) &#123;x=i; <span class="keyword">break</span>;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=k; i&lt;=k+<span class="number">1000</span>; i++)</span><br><span class="line">        <span class="keyword">if</span> (vis[i]) &#123;y=i; <span class="keyword">break</span>;&#125;</span><br><span class="line">        <span class="keyword">if</span> (x!=<span class="number">-1</span>) ans=x;</span><br><span class="line">        <span class="keyword">if</span> (y!=<span class="number">-1</span> &amp;&amp; (<span class="built_in">abs</span>(ans-k)&gt;<span class="built_in">abs</span>(y-k) || x==<span class="number">-1</span>))</span><br><span class="line">            ans=y;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="I"><a href="#I" class="headerlink" title="I"></a>I</h2><p>队友AC</p><h2 id="J"><a href="#J" class="headerlink" title="J"></a>J</h2><h2 id="K"><a href="#K" class="headerlink" title="K"></a>K</h2><p>补题</p><p>博弈DP</p><p>首先我们设f[i] [j] 代表前i个商品，还剩j次魔法的最大收益</p><p>根据博弈的性质我们可以列出这个方程</p><script type="math/tex; mode=display">f[i][j]=max(f[i-1][j],min(a[i].x-a[i].y,f[i-1][j-1]-a[i].y));</script><p>我需要对利益从大到小排序，但是我到目前为止，还是不能非常理解，只能说懂个大概？到时候理解了补上吧</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span>  f[<span class="number">150005</span>][<span class="number">10</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">&#125;a[<span class="number">150005</span>];</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a,Node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.x&gt;b.x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a[i].x,&amp;a[i].y);</span><br><span class="line">        sort(a+<span class="number">1</span>,a+n+<span class="number">1</span>,cmp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            f[i][<span class="number">0</span>]=max(f[i<span class="number">-1</span>][<span class="number">0</span>],a[i].x-a[i].y);</span><br><span class="line">            <span class="comment">//cout&lt;&lt;f[i][0]&lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=k; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                f[i][j]=max(f[i<span class="number">-1</span>][j],min(a[i].x-a[i].y,f[i<span class="number">-1</span>][j<span class="number">-1</span>]-a[i].y));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,f[n][k]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="L"><a href="#L" class="headerlink" title="L"></a>L</h2><p>赛中AC</p><p>我们考虑对于每个时间段进行离散化，然后进行区间DP即可</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 605</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> a[N],b[N],c[N],d[N],posa[N],posb[N];</span><br><span class="line"><span class="keyword">int</span> t,n;</span><br><span class="line"><span class="keyword">int</span> f[N][N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;a[i],&amp;b[i],&amp;d[i]);</span><br><span class="line">            c[++t]=a[i];</span><br><span class="line">            c[++t]=b[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;&quot;A&quot;&lt;&lt;endl;</span></span><br><span class="line">        sort(c+<span class="number">1</span>,c+t+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> m=unique(c+<span class="number">1</span>,c+t+<span class="number">1</span>)-(c+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">memset</span>(f,<span class="number">0x3f</span>,<span class="keyword">sizeof</span>(f));</span><br><span class="line">        <span class="comment">//cout&lt;&lt;m&lt;&lt;endl;</span></span><br><span class="line">        <span class="comment">//for (int i=1; i&lt;=m; i++) cout&lt;&lt;c[i]&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            posa[i]=lower_bound(c+<span class="number">1</span>,c+m+<span class="number">1</span>,a[i])-c;</span><br><span class="line">            posb[i]=lower_bound(c+<span class="number">1</span>,c+m+<span class="number">1</span>,b[i])-c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> len=<span class="number">1</span>; len&lt;=m; len++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i+len<span class="number">-1</span>&lt;=m; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">int</span> pos=<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;=n; k++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i&lt;=posa[k] &amp;&amp; posb[k]&lt;=j &amp;&amp; d[k]&gt;d[pos]) pos=k;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (pos==<span class="number">-1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    f[i][j]=<span class="number">0</span>; <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k=posa[pos]; k&lt;=posb[pos]; k++)</span><br><span class="line">                &#123;</span><br><span class="line">                    f[i][j]=min(f[i][j],f[i][k<span class="number">-1</span>]+f[k+<span class="number">1</span>][j]+d[pos]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;f[<span class="number">1</span>][m]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 2020.5 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 比赛记录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>科大讯飞杯第18届上海大学程序设计联赛春季赛暨高校网络友谊赛</title>
      <link href="/2020/08/07/acm-4-yue-xun-lian/ke-da-xun-fei-bei-shang-hai-da-xue-18th/"/>
      <url>/2020/08/07/acm-4-yue-xun-lian/ke-da-xun-fei-bei-shang-hai-da-xue-18th/</url>
      
        <content type="html"><![CDATA[<h2 id="比赛情况"><a href="#比赛情况" class="headerlink" title="比赛情况"></a>比赛情况</h2><p>比赛平台：牛客</p><p>Rank：29</p><p>现场AC：8</p><p>补题：0    </p><h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><p>水题</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">        sum+=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1000000000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=<span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> x=a[<span class="number">1</span>]+a[i];</span><br><span class="line">        <span class="keyword">int</span> y=sum-x;</span><br><span class="line">        ans=min(ans,<span class="built_in">abs</span>(x-y));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><p>结构体自定义排序</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 105</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">double</span> z;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">friend</span> <span class="keyword">operator</span> &lt; (Node a,Node b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (a.x==b.x)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a.z==b.z)</span><br><span class="line">                <span class="keyword">return</span> a.y&lt;b.y;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> a.z&gt;b.z;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> a.x&gt;b.x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;a[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> tot=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> x,y;</span><br><span class="line">        <span class="keyword">double</span> z;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;z;</span><br><span class="line">        <span class="keyword">if</span> (z&gt;=<span class="number">38</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ++tot; a[tot].x=x; a[tot].y=y;</span><br><span class="line">            a[tot].z=z;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a+<span class="number">1</span>,a+tot+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;tot&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=tot; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d %.1f\n&quot;</span>,a[i].x,a[i].y,a[i].z);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><p>发现只有完全相等才是-1，否则就是最长得那个字符串</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10000</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> a[N],b[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,b+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> n=<span class="built_in">strlen</span>(a+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> m=<span class="built_in">strlen</span>(b+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (n==m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> bo=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) <span class="keyword">if</span> (a[i]!=b[i]) bo=<span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (bo) <span class="built_in">cout</span>&lt;&lt;<span class="number">-1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;max(n,m)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><p>构造题</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (n==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;2\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;11\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,n<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n<span class="number">-1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=t; j++) <span class="built_in">printf</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">            t++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><p>每一个都会被吃，于是直接计算答案即可，不存在什么最优策略，结果都一样</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span>  x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;x);</span><br><span class="line">        ans=ans+x;</span><br><span class="line">    &#125;</span><br><span class="line">    ans=ans<span class="number">-1l</span>l*(n)*(n<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><p>模拟一下，用java写应该会更加快，太久没写java了，下次可以补一下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;<span class="comment">//2000.5.1 周一</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="keyword">int</span> y,m,d;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;y,&amp;m,&amp;d);</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2001</span>;i&lt;=y;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((i%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; i%<span class="number">100</span>!=<span class="number">0</span>) || (i%<span class="number">400</span>==<span class="number">0</span>))sum=(sum+<span class="number">366</span>)%<span class="number">7</span>;</span><br><span class="line">            <span class="keyword">else</span> sum=(sum+<span class="number">365</span>)%<span class="number">7</span>;</span><br><span class="line">            <span class="comment">//printf(&quot;%d\n&quot;,sum);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="keyword">if</span>(!sum)tmp=<span class="number">8</span>;</span><br><span class="line">        <span class="keyword">else</span> tmp=<span class="number">7</span>-sum+<span class="number">1</span>+<span class="number">7</span>;</span><br><span class="line">        <span class="keyword">if</span>(m&lt;<span class="number">5</span> || (m==<span class="number">5</span> &amp;&amp; d&lt;tmp))&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Mother&#x27;s Day: May %d&quot;</span>,tmp);</span><br><span class="line">            <span class="keyword">if</span>(tmp==<span class="number">1</span> || tmp==<span class="number">21</span> || tmp==<span class="number">31</span>)<span class="built_in">printf</span>(<span class="string">&quot;st&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="number">2</span> || tmp==<span class="number">22</span>)<span class="built_in">printf</span>(<span class="string">&quot;nd&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="number">3</span> || tmp==<span class="number">23</span>)<span class="built_in">printf</span>(<span class="string">&quot;rd&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;th&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;, %d\n&quot;</span>,y);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp=(sum+<span class="number">31</span>)%<span class="number">7</span>;</span><br><span class="line">        <span class="keyword">if</span>(!tmp)tmp=<span class="number">15</span>;</span><br><span class="line">        <span class="keyword">else</span> tmp=<span class="number">7</span>-tmp+<span class="number">1</span>+<span class="number">14</span>;</span><br><span class="line">        <span class="keyword">if</span>(m&lt;<span class="number">6</span> || (m==<span class="number">6</span> &amp;&amp; d&lt;tmp))&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Father&#x27;s Day: June %d&quot;</span>,tmp);</span><br><span class="line">            <span class="keyword">if</span>(tmp==<span class="number">1</span> || tmp==<span class="number">21</span> || tmp==<span class="number">31</span>)<span class="built_in">printf</span>(<span class="string">&quot;st&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="number">2</span> || tmp==<span class="number">22</span>)<span class="built_in">printf</span>(<span class="string">&quot;nd&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="number">3</span> || tmp==<span class="number">23</span>)<span class="built_in">printf</span>(<span class="string">&quot;rd&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;th&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;, %d\n&quot;</span>,y);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        y++;</span><br><span class="line">        <span class="keyword">if</span>((y%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; y%<span class="number">100</span>!=<span class="number">0</span>) || (y%<span class="number">400</span>==<span class="number">0</span>))sum=(sum+<span class="number">366</span>)%<span class="number">7</span>;</span><br><span class="line">        <span class="keyword">else</span> sum=(sum+<span class="number">365</span>)%<span class="number">7</span>;</span><br><span class="line">        <span class="keyword">if</span>(!sum)tmp=<span class="number">8</span>;</span><br><span class="line">        <span class="keyword">else</span> tmp=<span class="number">7</span>-sum+<span class="number">1</span>+<span class="number">7</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Mother&#x27;s Day: May %d&quot;</span>,tmp);</span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="number">1</span> || tmp==<span class="number">21</span> || tmp==<span class="number">31</span>)<span class="built_in">printf</span>(<span class="string">&quot;st&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="number">2</span> || tmp==<span class="number">22</span>)<span class="built_in">printf</span>(<span class="string">&quot;nd&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="number">3</span> || tmp==<span class="number">23</span>)<span class="built_in">printf</span>(<span class="string">&quot;rd&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;th&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;, %d\n&quot;</span>,y);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="G"><a href="#G" class="headerlink" title="G"></a>G</h2><p>补题</p><ul><li>tag ：虚树+DP</li><li>考虑不同deep不会影响，于是直接DP即可</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 200005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,root;</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u,v,nxt;</span><br><span class="line">&#125;E[N&lt;&lt;<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tot,head[N];</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">dfn_t</span>,dfn[N],max_deep,deep[N];</span><br><span class="line"><span class="keyword">int</span> f[N][<span class="number">22</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> s[N],top;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;v[N];</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;b[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dfn[x]&lt;dfn[y];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ins</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ++tot; E[tot]=(Edge)&#123;u,v,head[u]&#125;; head[u]=tot;</span><br><span class="line">    ++tot; E[tot]=(Edge)&#123;v,u,head[v]&#125;; head[v]=tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ins2</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot; &quot;&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;y&lt;&lt;endl;</span></span><br><span class="line">    v[x].push_back(y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> fa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deep[x]=deep[fa]+<span class="number">1</span>;</span><br><span class="line">    max_deep=max(max_deep,deep[x]);</span><br><span class="line">    dfn[x]=<span class="keyword">dfn_t</span>++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; (<span class="number">1</span>&lt;&lt;i)&lt;=deep[x]; i++)</span><br><span class="line">        f[x][i]=f[f[x][i<span class="number">-1</span>]][i<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> p=head[x]; p; p=E[p].nxt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> son=E[p].v;</span><br><span class="line">        <span class="keyword">if</span> (son==fa) <span class="keyword">continue</span>;</span><br><span class="line">        f[son][<span class="number">0</span>]=x;</span><br><span class="line"></span><br><span class="line">        dfs(son,x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LCA</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (deep[x]&lt;deep[y]) swap(x,y);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">20</span>; i&gt;=<span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (deep[f[x][i]]&gt;=deep[y]) x=f[x][i];</span><br><span class="line">    <span class="keyword">if</span> (x==y) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">20</span>; i&gt;=<span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (f[x][i]!=f[y][i]) x=f[x][i],y=f[y][i];</span><br><span class="line">    <span class="keyword">return</span> f[x][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x&gt;<span class="number">1</span>) <span class="keyword">return</span> x<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span>  <span class="title">dp</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (v[x].size()==<span class="number">0</span>) <span class="keyword">return</span> a[x];</span><br><span class="line">    <span class="keyword">int</span> sz=v[x].size();</span><br><span class="line">    ll res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;sz; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> y=v[x][i];</span><br><span class="line">        ll d=deep[y]-deep[x];</span><br><span class="line">        ll tmp=dp(y);</span><br><span class="line">        <span class="keyword">if</span> (tmp&gt;<span class="number">1</span>) res=res+max(<span class="number">1l</span>l,tmp-d);</span><br><span class="line">        <span class="keyword">else</span> res=res+tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    v[x].clear();</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// cout&lt;&lt;&quot;              &quot;&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (top==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        s[++top]=x; <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> lca=LCA(s[top],x);</span><br><span class="line">   <span class="comment">// cout&lt;&lt;&quot; insert &quot;&lt;&lt;lca&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">while</span> (top&gt;<span class="number">1</span> &amp;&amp; dfn[s[top<span class="number">-1</span>]]&gt;dfn[lca])</span><br><span class="line">    &#123;</span><br><span class="line">        ins2(s[top<span class="number">-1</span>],s[top]); top--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (dfn[lca]&lt;dfn[s[top]]) ins2(lca,s[top--]);</span><br><span class="line">    <span class="keyword">if</span> (!top || s[top]!=lca) s[++top]=lca;</span><br><span class="line">    s[++top]=x;</span><br><span class="line">    <span class="comment">/*if (top==1) &#123;s[++top]=x; return ;&#125;</span></span><br><span class="line"><span class="comment">    int lca=LCA(x,s[top]);</span></span><br><span class="line"><span class="comment">    if (lca==s[top]) return ;</span></span><br><span class="line"><span class="comment">    while (top&gt;1 &amp;&amp; dfn[s[top-1]]&gt;dfn[lca])</span></span><br><span class="line"><span class="comment">        ins2(s[top-1],s[top]),top--;</span></span><br><span class="line"><span class="comment">    if (dfn[lca]&lt;dfn[s[top]]) ins2(lca,s[top--]);</span></span><br><span class="line"><span class="comment">    if (!top || (s[top]!=lca)) s[++top]=lca;</span></span><br><span class="line"><span class="comment">    s[++top]=x;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;root);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> x,y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">        ins(x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">dfn_t</span>=<span class="number">0</span>;</span><br><span class="line">    dfs(root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        b[deep[i]].push_back(i);</span><br><span class="line">        <span class="comment">//cout&lt;&lt;i&lt;&lt;&quot;   &quot;&lt;&lt;deep[i]&lt;&lt;endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=max_deep; i++)</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="comment">//cout&lt;&lt;&quot;dsds&quot;&lt;&lt;endl;</span></span><br><span class="line">         sort(b[i].begin(),b[i].end(),cmp);</span><br><span class="line"></span><br><span class="line">         <span class="keyword">int</span> sz=b[i].size();</span><br><span class="line"></span><br><span class="line">         s[top=<span class="number">1</span>]=root;</span><br><span class="line"></span><br><span class="line">         <span class="comment">//cout&lt;&lt;&quot;                 &quot;&lt;&lt;sz&lt;&lt;endl;</span></span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;sz; j++)</span><br><span class="line">         &#123;</span><br><span class="line">             insert(b[i][j]);</span><br><span class="line">             <span class="comment">//cout&lt;&lt;&quot;          &quot;&lt;&lt;j&lt;&lt;&quot; &quot;&lt;&lt;b[i][j]&lt;&lt;endl;</span></span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">while</span> (top&gt;<span class="number">1</span>) ins2(s[top<span class="number">-1</span>],s[top]),top--;</span><br><span class="line">         ll tt=dp(root);</span><br><span class="line">         <span class="comment">//cout&lt;&lt;&quot;                                    &quot;&lt;&lt;tt&lt;&lt;endl;</span></span><br><span class="line">         <span class="keyword">if</span> (tt) sum+=max(<span class="number">1l</span>l,tt<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot; &quot;&lt;&lt;a[root]&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (a[root]) sum+=max(<span class="number">1</span>,a[root]<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,sum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="H"><a href="#H" class="headerlink" title="H"></a>H</h2><ul><li>考虑贪心，枚举每一位，从大到小选择</li><li>如果当前位选择X，之前得余数为pre，目前相加余数为y，仍然有余数为0a张，余数为1的b张，余数为2的c张。</li><li>我们先从a，b，c中挑选最小组合和y匹配到余数为0，假设当前还剩余x位需要匹配，余数为0a张，余数为1b张，余数为2c张</li><li>我们用一个pb函数验证一下，我们可以枚举余数为1和余数为2的组合，不难发现最优解肯定在min（b，c）的一个范围内。于是时间复杂度不会很大。</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 200005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> s[N];</span><br><span class="line"><span class="keyword">int</span> ans[N];</span><br><span class="line"><span class="keyword">int</span> a[N],b[N];</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pd</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> A,<span class="keyword">int</span> B,<span class="keyword">int</span> C)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// cout&lt;&lt;&quot;                &quot;&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;A&lt;&lt;&quot; &quot;&lt;&lt;B&lt;&lt;&quot; &quot;&lt;&lt;C&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (x&lt;<span class="number">0</span> || A&lt;<span class="number">0</span> || B&lt;<span class="number">0</span> || C&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp=min(x/<span class="number">2</span>,min(B,C));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=tmp; i&gt;=<span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> xx=x<span class="number">-2</span>*i;</span><br><span class="line">        <span class="keyword">int</span> BB=B-i,CC=C-i;</span><br><span class="line">        BB=BB/<span class="number">3</span>; CC=CC/<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> t1=xx/<span class="number">3</span>,t2=xx%<span class="number">3</span>;</span><br><span class="line">       <span class="comment">// cout&lt;&lt;&quot; &quot;&lt;&lt;tmp&lt;&lt;&quot; &quot;&lt;&lt;t1&lt;&lt;&quot; &quot;&lt;&lt;t2&lt;&lt;endl;</span></span><br><span class="line">        t1=(t1-min(t1,BB+CC))*<span class="number">3</span>+t2;</span><br><span class="line">        <span class="keyword">if</span> (t1&lt;=A) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=<span class="number">9</span>; i++) a[i]=b[i]=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;k);</span><br><span class="line">        n=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> x=s[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            a[x]++;</span><br><span class="line">            b[x%<span class="number">3</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> x=<span class="number">9</span>;</span><br><span class="line">        <span class="keyword">bool</span> bo=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=k; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[i]=<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (ans[i]==<span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (x&gt;=<span class="number">0</span> &amp;&amp; a[x]&lt;=<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    x--; <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (x==<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">int</span> tmp=(sum+x)%<span class="number">3</span>;</span><br><span class="line">                <span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line">                b[x%<span class="number">3</span>]--;</span><br><span class="line">               <span class="comment">// cout&lt;&lt;tmp&lt;&lt;&quot; &quot;&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">                <span class="keyword">if</span> (tmp==<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (pd(k-i,b[<span class="number">0</span>],b[<span class="number">1</span>],b[<span class="number">2</span>])) flag=<span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (tmp==<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;&quot; fuck &quot;&lt;&lt;endl;</span></span><br><span class="line">                    <span class="keyword">if</span> (pd(k-i<span class="number">-1</span>,b[<span class="number">0</span>],b[<span class="number">1</span>],b[<span class="number">2</span>]<span class="number">-1</span>)) flag=<span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span> (pd(k-i<span class="number">-2</span>,b[<span class="number">0</span>],b[<span class="number">1</span>]<span class="number">-2</span>,b[<span class="number">2</span>])) flag=<span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (tmp==<span class="number">2</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;&quot;        fuck  &quot;&lt;&lt;endl;</span></span><br><span class="line">                    <span class="keyword">if</span> (pd(k-i<span class="number">-1</span>,b[<span class="number">0</span>],b[<span class="number">1</span>]<span class="number">-1</span>,b[<span class="number">2</span>])) flag=<span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span> (pd(k-i<span class="number">-2</span>,b[<span class="number">0</span>],b[<span class="number">1</span>],b[<span class="number">2</span>]<span class="number">-2</span>)) flag=<span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                b[x%<span class="number">3</span>]++;</span><br><span class="line">               <span class="comment">// cout&lt;&lt;&quot; flag == &quot;&lt;&lt;flag&lt;&lt;endl;</span></span><br><span class="line">                <span class="keyword">if</span> (flag)</span><br><span class="line">                &#123;</span><br><span class="line">                    ans[i]=x; a[x]--; b[x%<span class="number">3</span>]--;</span><br><span class="line">                    sum=(sum+x)%<span class="number">3</span>;</span><br><span class="line">                   <span class="comment">// cout&lt;&lt;&quot;             &quot;&lt;&lt;sum&lt;&lt;&quot; &quot;&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>  x--;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (ans[i]==<span class="number">-1</span> || (i&gt;=<span class="number">2</span> &amp;&amp; ans[<span class="number">1</span>]==<span class="number">0</span> &amp;&amp; ans[<span class="number">2</span>]==<span class="number">0</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                bo=<span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!bo) <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=k; i++) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ans[i]);</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">9695863108 9</span></span><br><span class="line"><span class="comment">998866530</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3317358949 9</span></span><br><span class="line"><span class="comment">3264898906 1</span></span><br><span class="line"><span class="comment">3909403429 6</span></span><br><span class="line"><span class="comment">9874469304 2</span></span><br><span class="line"><span class="comment">5780072001 9</span></span><br><span class="line"><span class="comment">9695863108 9</span></span><br><span class="line"><span class="comment">5105937054 1</span></span><br><span class="line"><span class="comment">8306007864 3</span></span><br><span class="line"><span class="comment">0600837437 2</span></span><br><span class="line"><span class="comment">3598543576 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="I"><a href="#I" class="headerlink" title="I"></a>I</h2><p>待补</p><h2 id="J"><a href="#J" class="headerlink" title="J"></a>J</h2><p>待补</p><h2 id="K"><a href="#K" class="headerlink" title="K"></a>K</h2><p>待补</p><h2 id="L"><a href="#L" class="headerlink" title="L"></a>L</h2><p>二分加网络流即可</p><ul><li>考虑二分答案</li><li>于是我们可以知道对于每一天可以完成多少事件</li><li>于是我们如下建图<ul><li>源点向每个事件连容量为c[i]的边</li><li>每个事件向对应的天数连容量为INF的边</li><li>每天向源点连容量为  每天可以完成多少事件的容量</li></ul></li><li>跑最大流验证即可</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">2000</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line">ll sum;</span><br><span class="line"><span class="keyword">int</span> n,e;</span><br><span class="line"><span class="keyword">int</span> c[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> m[<span class="number">1005</span>][<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ll tol,head[maxn];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    ll to,next,w;</span><br><span class="line">&#125;a[maxn*<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span> head);</span><br><span class="line">    tol=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(ll u,ll v,ll w)</span></span>&#123;</span><br><span class="line">    a[++tol]=(edge)&#123;v,head[u],w&#125;;head[u]=tol;</span><br><span class="line">    a[++tol]=(edge)&#123;u,head[v],<span class="number">0</span>&#125;;head[v]=tol;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll dep[<span class="number">10010</span>],cur[<span class="number">10010</span>];</span><br><span class="line"><span class="built_in">queue</span>&lt;ll&gt;q;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">bfs</span><span class="params">(ll s,ll t)</span></span>&#123;</span><br><span class="line">    ll i,u,v;</span><br><span class="line">    <span class="keyword">for</span>(i=s;i&lt;=t;i++) dep[i]=<span class="number">-1</span>,cur[i]=head[i];</span><br><span class="line">    q.push(s);dep[s]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">        u=q.front();q.pop();</span><br><span class="line">        <span class="keyword">for</span>(i=head[u];~i;i=a[i].next)&#123;</span><br><span class="line">            v=a[i].to;<span class="keyword">if</span>(~dep[v]||!a[i].w) <span class="keyword">continue</span>;</span><br><span class="line">            dep[v]=dep[u]+<span class="number">1</span>;q.push(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ~dep[t];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">dfs</span><span class="params">(ll u,ll t,ll lim)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(u==t||!lim) <span class="keyword">return</span> lim;</span><br><span class="line">    ll i,v,f,flow=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=cur[u];~i;i=a[i].next)&#123;</span><br><span class="line">        v=a[i].to;cur[u]=i;</span><br><span class="line">        <span class="keyword">if</span>((dep[v]==dep[u]+<span class="number">1</span>)&amp;&amp;(f=dfs(v,t,min(lim,a[i].w))))&#123;</span><br><span class="line">            a[i].w-=f;a[i^<span class="number">1</span>].w+=f;</span><br><span class="line">            flow+=f;lim-=f;</span><br><span class="line">            <span class="keyword">if</span>(!lim) <span class="keyword">return</span> flow;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">dinic</span><span class="params">(ll s,ll t)</span></span>&#123;</span><br><span class="line">    ll re=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(bfs(s,t)) re+=dfs(s,t,INF);</span><br><span class="line">    <span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pd</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> s=<span class="number">0</span>,t=n+<span class="number">7</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        add(s,i,c[i]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m[i][<span class="number">0</span>]; j++)</span><br><span class="line">            add(i,m[i][j]+n,INF);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">7</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ll tmp=x/<span class="number">7</span>;</span><br><span class="line">        <span class="keyword">if</span> (i&lt;=x%<span class="number">7</span>) tmp++;</span><br><span class="line">        tmp=tmp*e;</span><br><span class="line">        add(n+i,t,tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (dinic(s,t)==sum) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;e);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;c[i]); sum+=c[i];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m[i][<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m[i][<span class="number">0</span>]; j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">0</span>,r=<span class="number">1000000000</span>;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (l&lt;=r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (pd(mid)) ans=mid,r=mid<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 2020.4 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 比赛记录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020湖南多校round1-NWERC2014</title>
      <link href="/2020/08/07/acm-4-yue-xun-lian/2020-hu-nan-duo-xiao-round1-nwerc2014/"/>
      <url>/2020/08/07/acm-4-yue-xun-lian/2020-hu-nan-duo-xiao-round1-nwerc2014/</url>
      
        <content type="html"><![CDATA[<h2 id="比赛情况"><a href="#比赛情况" class="headerlink" title="比赛情况"></a>比赛情况</h2><p>虚拟测试：rank8</p><p>AC：7</p><p>补题：1</p><h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><p>简单DP</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 2005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 1ll&lt;&lt;32</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line">ll sum[N];</span><br><span class="line">ll f[N][<span class="number">22</span>];</span><br><span class="line"><span class="function">ll <span class="title">get</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll tmp=sum[j]-sum[i];</span><br><span class="line">    ll ans=tmp/<span class="number">10</span>*<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span> (tmp%<span class="number">10</span>&gt;=<span class="number">5</span>) ans+=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">        sum[i]=sum[i<span class="number">-1</span>]+(<span class="keyword">long</span> <span class="keyword">long</span> )a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=m+<span class="number">1</span>; j++)</span><br><span class="line">        f[i][j]=inf;</span><br><span class="line"></span><br><span class="line">    f[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m+<span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;i; k++)</span><br><span class="line">            &#123;</span><br><span class="line">                f[i][j]=min(f[i][j],f[k][j<span class="number">-1</span>]+get(k,i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;f[n][m+<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><p>队友YZ补题AC</p><p>拓扑排序</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> state[maxn];</span><br><span class="line"><span class="keyword">int</span> num[maxn];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[maxn];</span><br><span class="line"><span class="keyword">int</span> du[maxn];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">    <span class="keyword">char</span> op;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++ ) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; op &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        <span class="keyword">if</span> ( op==<span class="string">&#x27;R&#x27;</span> ) state[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( op==<span class="string">&#x27;L&#x27;</span> ) state[i] = <span class="number">1</span>;</span><br><span class="line">        G[i].push_back(l);</span><br><span class="line">        G[i].push_back(r);</span><br><span class="line">        du[l]++; du[r]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>(num,<span class="number">0</span>,<span class="keyword">sizeof</span>(num));</span><br><span class="line">    num[<span class="number">1</span>] = m;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++ ) <span class="keyword">if</span> ( du[i]==<span class="number">0</span> ) Q.push(i);</span><br><span class="line">    <span class="keyword">while</span> ( !Q.empty() ) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = Q.front(); Q.pop();</span><br><span class="line">        <span class="keyword">int</span> t = num[x]/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> ( num[x]%<span class="number">2</span>==<span class="number">1</span> ) t ++;</span><br><span class="line">        <span class="keyword">int</span> d = num[x]/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> ( state[x]==<span class="number">0</span> ) &#123;</span><br><span class="line">            num[ G[x][<span class="number">0</span>] ] += d;</span><br><span class="line">            num[ G[x][<span class="number">1</span>] ] += t;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( state[x]==<span class="number">1</span> ) &#123;</span><br><span class="line">            num[ G[x][<span class="number">0</span>] ] += t;</span><br><span class="line">            num[ G[x][<span class="number">1</span>] ] += d;</span><br><span class="line">        &#125;</span><br><span class="line">        du[ G[x][<span class="number">0</span>] ] --;</span><br><span class="line">        <span class="keyword">if</span> ( G[x][<span class="number">0</span>]!=<span class="number">0</span> &amp;&amp; du[ G[x][<span class="number">0</span>] ]==<span class="number">0</span> ) Q.push( G[x][<span class="number">0</span>] );</span><br><span class="line">        du[ G[x][<span class="number">1</span>] ] --;</span><br><span class="line">        <span class="keyword">if</span> ( G[x][<span class="number">1</span>]!=<span class="number">0</span> &amp;&amp; du[ G[x][<span class="number">1</span>] ]==<span class="number">0</span> ) Q.push( G[x][<span class="number">1</span>] );</span><br><span class="line">        state[x] = ( state[x] + num[x]%<span class="number">2</span> )%<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++ ) &#123;</span><br><span class="line">        <span class="keyword">if</span> ( state[i]==<span class="number">0</span> ) <span class="built_in">cout</span> &lt;&lt;<span class="string">&quot;R&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;L&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><p>英语阅读题+三分</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">double</span> n,p,s,v;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">1e-7</span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">calc</span><span class="params">(<span class="keyword">double</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n*<span class="built_in">pow</span>(log2(n),c*<span class="built_in">sqrt</span>(<span class="number">2.0</span>))/(p*<span class="number">1e9</span>)+(<span class="number">1</span>+<span class="number">1.0</span>/c)*s/v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf%lf%lf&quot;</span>,&amp;n,&amp;p,&amp;s,&amp;v);</span><br><span class="line">    <span class="keyword">double</span> l=<span class="number">0</span>,r=<span class="number">100</span>;</span><br><span class="line">    <span class="keyword">while</span> (r-l&gt;eps)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> lmid=(r+l)/<span class="number">2.0</span>;</span><br><span class="line">        <span class="keyword">double</span> rmid=(lmid+r)/<span class="number">2.0</span>;</span><br><span class="line">        <span class="keyword">if</span> (calc(lmid)&lt;=calc(rmid)) r=rmid;</span><br><span class="line">        <span class="keyword">else</span> l=lmid;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">// cout&lt;&lt;l&lt;&lt;endl;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.9f %.9f\n&quot;</span>,calc(l),l);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><p>队友赛中AC</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> ll ;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100000</span>+<span class="number">7</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> abs(x)  (((x)&gt;0)?(x):-(x))</span></span><br><span class="line"><span class="keyword">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> &#123;</span></span><br><span class="line">    ll x, y;</span><br><span class="line">    Point(ll x=<span class="number">0</span>, ll y=<span class="number">0</span>):x(x),y(y) &#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;a[N];</span><br><span class="line"><span class="function">mt19937 <span class="title">mrand</span><span class="params">(time(<span class="number">0</span>))</span></span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;Point&gt; Polygon;</span><br><span class="line"><span class="keyword">typedef</span> Point Vector;</span><br><span class="line"><span class="keyword">inline</span> Vector <span class="keyword">operator</span>+ (Vector A, Vector B) &#123; <span class="keyword">return</span> Vector(A.x + B.x, A.y + B.y); &#125;</span><br><span class="line"><span class="keyword">inline</span> Vector <span class="keyword">operator</span>- (Point A, Point B) &#123; <span class="keyword">return</span> Vector(A.x - B.x, A.y - B.y); &#125;</span><br><span class="line"><span class="keyword">inline</span> Vector <span class="keyword">operator</span>* (Vector A, ll p) &#123; <span class="keyword">return</span> Vector(A.x * p, A.y * p); &#125;</span><br><span class="line"><span class="keyword">inline</span> Vector <span class="keyword">operator</span>/ (Vector A, ll p) &#123; <span class="keyword">return</span> Vector(A.x / p, A.y / p); &#125;</span><br><span class="line"><span class="function">ll <span class="title">Cross3</span><span class="params">(Point p0,Point p1,Point p2)</span>  </span>&#123;<span class="keyword">return</span> (p1.x-p0.x)*(p2.y-p0.y)-(p2.x-p0.x)*(p1.y-p0.y);&#125;</span><br><span class="line"><span class="keyword">int</span> fg=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n,p,tim=<span class="number">1000</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;n,&amp;p);</span><br><span class="line">    p=ceill(n*p*<span class="number">1.0</span>/<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;possible&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) a[i].read();</span><br><span class="line">    <span class="keyword">while</span>(!fg&amp;&amp;tim--) &#123;</span><br><span class="line">        <span class="keyword">int</span> x=mrand()%n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> y=mrand()%n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(x==y) y=mrand()%n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> tot=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="keyword">if</span>(Cross3(a[i],a[x],a[y])==<span class="number">0</span>) tot++;</span><br><span class="line">        <span class="keyword">if</span>(tot&gt;=p) fg=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(fg) <span class="built_in">puts</span>(<span class="string">&quot;possible&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;impossible&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="G"><a href="#G" class="headerlink" title="G"></a>G</h2><p>补题</p><ul><li>tag： 曼哈顿距离转切比雪夫距离之后三分套三分</li><li>注意事项<ul><li>整数三分的时候需要注意边界问题</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 1ll&lt;&lt;60</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">ll m;</span><br><span class="line">ll x[N],y[N];</span><br><span class="line">ll sumx[N],sumy[N];</span><br><span class="line">ll up,down,lef,rig;</span><br><span class="line">ll ans=inf;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">将一个点(x,y)的坐标变为(x+y,x−y)后,原坐标系中的曼哈顿距离 = 新坐标系中的切比雪夫距离</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">将一个点(x,y)的坐标变为(x+y)/2,(x−y)/2) 后,原坐标系中的切比雪夫距离 = 新坐标系中的曼哈顿距离</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">ll <span class="title">getans2</span><span class="params">(ll X,ll Y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//  cout&lt;&lt;&quot;       &quot;&lt;&lt;X&lt;&lt;&quot; &quot;&lt;&lt;Y&lt;&lt;endl;</span></span><br><span class="line">    ll res=<span class="number">0</span>;</span><br><span class="line">    ll pos;</span><br><span class="line">    pos=lower_bound(x+<span class="number">1</span>,x+n+<span class="number">1</span>,X)-x<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    res+=X*pos-sumx[pos];</span><br><span class="line">    res+=sumx[n]-sumx[pos]-X*(n-pos);</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot; &quot;&lt;&lt;X&lt;&lt;&quot; &quot;&lt;&lt;pos&lt;&lt;endl;</span></span><br><span class="line">    pos=lower_bound(y+<span class="number">1</span>,y+n+<span class="number">1</span>,Y)-y<span class="number">-1</span>;</span><br><span class="line">    res+=Y*pos-sumy[pos];</span><br><span class="line">    res+=sumy[n]-sumy[pos]-Y*(n-pos);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// ll ress=0;</span></span><br><span class="line">    <span class="comment">//for (int i=1; i&lt;=n; i++) ress=ress+abs(X-x[i])+abs(Y-y[i]);</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// cout&lt;&lt;&quot; &quot;&lt;&lt;ress&lt;&lt;&quot; &quot;&lt;&lt;res&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">getans</span><span class="params">(ll x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    ll r=min(x-down,rig-x),l=max(x-up,lef-x);</span><br><span class="line"></span><br><span class="line">    ll res=inf;</span><br><span class="line">    <span class="keyword">while</span> (l+<span class="number">2</span>&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        ll lmid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        ll rmid=(lmid+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;&quot;               &quot;&lt;&lt;l&lt;&lt;&quot; &quot;&lt;&lt;r&lt;&lt;&quot; &quot;&lt;&lt;lmid&lt;&lt;&quot; &quot;&lt;&lt;rmid&lt;&lt;endl;</span></span><br><span class="line">        ll anslmid=getans2(x,lmid);</span><br><span class="line">        ll ansrmid=getans2(x,rmid);</span><br><span class="line">        res=min(res,min(anslmid,ansrmid));</span><br><span class="line">        <span class="keyword">if</span> (anslmid&lt;ansrmid) r=rmid;</span><br><span class="line">        <span class="keyword">else</span> l=lmid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=l; i&lt;=r; i++) res=min(res,getans2(x,i));</span><br><span class="line">    ans=min(ans,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;x[i],&amp;y[i]);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;m);</span><br><span class="line">    up=rig=inf;</span><br><span class="line">    down=lef=-inf;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        up=min(up,x[i]-y[i]+m);</span><br><span class="line">        down=max(down,x[i]-y[i]-m);</span><br><span class="line"></span><br><span class="line">        rig=min(rig,x[i]+y[i]+m);</span><br><span class="line">        lef=max(lef,x[i]+y[i]-m);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(x+<span class="number">1</span>,x+n+<span class="number">1</span>);</span><br><span class="line">    sort(y+<span class="number">1</span>,y+n+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        sumx[i]=sumx[i<span class="number">-1</span>]+x[i],sumy[i]=sumy[i<span class="number">-1</span>]+y[i];</span><br><span class="line">    <span class="keyword">if</span> (down&gt;up || lef&gt;rig)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;impossible&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll l=(lef+down)/<span class="number">2</span>,r=(rig+up)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (l+<span class="number">2</span>&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;&quot; &quot;&lt;&lt;l&lt;&lt;&quot; &quot;&lt;&lt;r&lt;&lt;endl;</span></span><br><span class="line">        ll lmid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        ll rmid=(lmid+r)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (getans(lmid)&lt;getans(rmid)) r=rmid;</span><br><span class="line">        <span class="keyword">else</span> l=lmid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=l; i&lt;=r; i++) getans(i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Property %d: This property will begin eroding in year %d.\n&quot;</span>, i, cy(X,Y));</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="H"><a href="#H" class="headerlink" title="H"></a>H</h2><p>队友赛中AC</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20005</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,l=<span class="number">0</span>,tot=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> to[N&lt;&lt;<span class="number">1</span>],h[N&lt;&lt;<span class="number">1</span>],s[N],a[N],b[N],d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hah</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    to[++l]=y,h[l]=s[x],s[x]=l;</span><br><span class="line">    to[++l]=x,h[l]=s[y],s[y]=l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> Fa)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!Fa)&#123;</span><br><span class="line">        a[x]=++tot;</span><br><span class="line">        b[x]=++tot;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> b[x]=++tot;</span><br><span class="line">    <span class="keyword">int</span> fg=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s[x];i;i=h[i])&#123;</span><br><span class="line">        <span class="keyword">if</span>(to[i]!=Fa)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!Fa &amp;&amp; !fg)&#123;</span><br><span class="line">                a[to[i]]=a[x];</span><br><span class="line">                fg=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> a[to[i]]=b[x];</span><br><span class="line">            dfs(to[i],x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1 2\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1 2\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x,y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">        hah(x,y);</span><br><span class="line">        d[x]++,d[y]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(d[i]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            dfs(i,<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,a[i],b[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="I"><a href="#I" class="headerlink" title="I"></a>I</h2><p>折半搜索</p><p>时间复杂度C(N,2)*(N/2)!</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">ll m;</span><br><span class="line">ll a[<span class="number">20</span>][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> bin[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> s[<span class="number">3</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span> ,<span class="keyword">int</span> &gt;f[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">bool</span> bo;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pd</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (x&amp;bin[i]) res++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (res==n/<span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span>  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> nowsta,ll tot,<span class="keyword">int</span> type,<span class="keyword">int</span> res)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (bo) <span class="keyword">return</span> ;</span><br><span class="line">    nowsta|=bin[x];</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot;                    &quot;&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;nowsta&lt;&lt;&quot; &quot;&lt;&lt;tot&lt;&lt;&quot; &quot;&lt;&lt;type&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (res==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="comment">// cout&lt;&lt;&quot; &quot;&lt;&lt;nowsta&lt;&lt;&quot; &quot;&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;tot&lt;&lt;&quot; &quot;&lt;&lt;type&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">if</span> (type==<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> ((s[type]&amp;bin[i])) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (f[i][m-tot-a[x][i]])</span><br><span class="line">                &#123;</span><br><span class="line">                    bo=<span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">return</span> ;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            f[x][tot]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (nowsta&amp;bin[i]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (!(s[type]&amp;bin[i])) <span class="keyword">continue</span>;</span><br><span class="line">        dfs(i,nowsta,tot+a[x][i],type,res<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bo=<span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%lld&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i][j]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[<span class="number">0</span>][<span class="number">1</span>]*<span class="number">2</span>==m) <span class="built_in">puts</span>(<span class="string">&quot;possible&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;impossible&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot;dsds&quot;&lt;&lt;endl;</span></span><br><span class="line">    bin[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        bin[i]=bin[i<span class="number">-1</span>]*<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> sta=(bin[n]<span class="number">-1</span><span class="number">-1</span>);<span class="comment">// cout&lt;&lt;sta&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=sta<span class="number">-1</span>; i; i=((i<span class="number">-1</span>)&amp;sta))</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">//  cout&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">if</span> (pd(i)) <span class="keyword">continue</span>;</span><br><span class="line">       <span class="comment">// cout&lt;&lt;&quot;         &quot;&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;((i-1)&amp;sta)&lt;&lt;endl;</span></span><br><span class="line">        s[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">        s[<span class="number">2</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (bin[j]&amp;i) s[<span class="number">1</span>]|=bin[j];</span><br><span class="line">            <span class="keyword">else</span> s[<span class="number">2</span>]|=bin[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;&quot;         &quot;&lt;&lt;s[1]&lt;&lt;&quot; &quot;&lt;&lt;s[2]&lt;&lt;endl;</span></span><br><span class="line">        dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,n/<span class="number">2</span>);</span><br><span class="line">        dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>,n<span class="number">-1</span>-n/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (bo) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++) f[j].clear();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (bo) <span class="built_in">puts</span>(<span class="string">&quot;possible&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;impossible&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="J"><a href="#J" class="headerlink" title="J"></a>J</h2><p>队友赛中AC</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1000010</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1000000007</span>;</span><br><span class="line"><span class="built_in">string</span> b[N],a[N];</span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="built_in">string</span>&gt;s;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>), <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n,m,t,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">cin</span>&gt;&gt;a[i],s.insert(a[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;b[i];</span><br><span class="line">        <span class="keyword">if</span>(s.find(b[i])!=s.end()) &#123;</span><br><span class="line">            ans++;</span><br><span class="line">            s.erase(s.lower_bound(b[i]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="K"><a href="#K" class="headerlink" title="K"></a>K</h2><p>队友赛中AC</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">2010</span>;</span><br><span class="line">ll a[N];ll n,s,t;</span><br><span class="line"><span class="built_in">map</span>&lt;ll,<span class="keyword">int</span>&gt;vis;</span><br><span class="line"><span class="built_in">multiset</span>&lt;ll&gt;st;</span><br><span class="line"><span class="function">ll <span class="title">cal</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">    ll cost=<span class="number">0</span>;</span><br><span class="line">    st.clear();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) st.insert(a[i]);</span><br><span class="line">    <span class="keyword">while</span>(!st.empty()) &#123;</span><br><span class="line">        <span class="keyword">if</span>(st.lower_bound(x)==st.end()) &#123;</span><br><span class="line">            cost+=s-x;x=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">auto</span> p=st.lower_bound(x);</span><br><span class="line">            cost+=((*p)-x);</span><br><span class="line">            cost+=t;</span><br><span class="line">            x=((*p)+t)%s;</span><br><span class="line">            st.erase(p);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//printf(&quot;x:%d cost:%d take%d\n&quot;,x,cost,take);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cost;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">mn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll mn=<span class="number">4e18</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="comment">//枚举起点</span></span><br><span class="line">        mn=min(mn,cal(a[i]));</span><br><span class="line">    <span class="keyword">return</span> mn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">mx</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll mx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="comment">//枚举起点</span></span><br><span class="line">        mx=max(mx,cal((a[i]+<span class="number">1</span>)%s));</span><br><span class="line">    <span class="keyword">return</span> mx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>), <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;s&gt;&gt;t;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    sort(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">    a[n+<span class="number">1</span>]=a[<span class="number">1</span>]+s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n+<span class="number">1</span>;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]==a[i<span class="number">-1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">        ll pre=cal(a[i]);</span><br><span class="line">        sum+=pre*(a[i]-a[i<span class="number">-1</span>])+<span class="number">1l</span>l*(a[i]-a[i<span class="number">-1</span>])*(a[i]-a[i<span class="number">-1</span>]<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ll gcd=__gcd(sum,s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n%lld\n%lld/%lld\n&quot;</span>,mn(),mx(),sum/gcd,s/gcd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 2020.4 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 比赛记录 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
